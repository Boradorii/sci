{% extends "templates/appmainbase.html" %}
<!-- ------------------------------------------------------------- -->
{% block head %}
<!-- CSS -->
<!-- datepicker CSS -->
<link href="/assets/node_modules/bootstrap-material-datetimepicker/css/bootstrap-material-datetimepicker.css" rel="stylesheet">
<link href="/assets/node_modules/bootstrap-datepicker/bootstrap-datepicker.min.css" rel="stylesheet" type="text/css" />
<link rel="stylesheet" href="/assets/icons/material-design-iconic-font/css/material-design-iconic-font.css">
<link rel="stylesheet" href="https://fonts.googleapis.com/icon?family=Material+Icons">
<style>
    .pet-info {
        margin-bottom: 0px;
    }
    
    .card-box {
        margin-top: 10px;
        border: 2px solid rgb(77, 161, 187);
        width: 100%;
    }
    
    table {
        width: 100%;
        /* border-collapse: collapse; */
    }
    
    table td,
    table th {
        /* padding: 10px; */
        text-align: center;
        vertical-align: middle;
        border-bottom: 3px solid white;
    }
    
    .td-pet-info {
        border-right: 1px solid lightgray;
    }
    
    .table-test {
        width: 100%;
    }
    
    .table-test td,
    .table-test th {
        text-align: center;
        vertical-align: middle;
        border-bottom: 1px solid lightgray;
        border-top: none;
    }
    
    .container-fluid {
        display: flex;
        flex-direction: column;
        align-items: center;
        justify-content: center;
    }
    
    .center-align {
        display: flex;
        align-items: center;
        justify-content: center;
    }
</style>
{%endblock%}
<!-- ------------------------------------------------------------- -->



<!-- ------------------------------------------------------------- -->
<!-- Content 시작 -->
{% block contents%}
<!-- html -->
<div class="skin-megna page-wrapper" style="padding: 0; overflow-y: scroll;">
    <div class="container-fluid">

        <!-- 장치 연결 상태 -->
        <div class="card card-box" style="text-align: center; margin-top: 50px;">
            <div>
                <div class="h3" style="margin: 20px; font-weight: 700;">장치 연결 상태</div>
                <div class="h6">* 장치 연결 버튼을 클릭하면 장치가 연결됩니다. <br> 블루투스를 ON으로 설정해주세요.</div>
                <div class="row m-10" style="margin: 10px;">
                    <div class="col">
                        <table style="align-items: center; margin-top: 5px;">
                            <tr>
                                <td id="age" class="text-center ml-5">
                                    <i class="material-icons text-center" style="color: red; vertical-align: middle;">circle</i>&nbsp;&nbsp;&nbsp;미연결
                                </td>
                            </tr>
                        </table>

                    </div>
                    <div class="col" style="align-self: center; margin-bottom: 10px;">
                        <button class="btn btn-outline-secondary" id="connectDevice" style="border: 2px solid lightgray; margin-top: 5px;">장치 연결</button>
                    </div>
                </div>
            </div>
        </div>

        <!-- 측정 전 체크 -->
        <div class="card card-box" style="margin-top: 30px;">
            <div class="h3" style="text-align: center; margin:20px; font-weight: 700;">측정 전 체크!</div>
            <div style="margin-left: 10px; margin-right: 10px;">
                <ol>
                    <li>장치를 연결해 주세요.</li>
                    <li>아이가 안정을 취했을 때 측정을 시작해 주세요.</li>
                    <li>측정 중에는 아이가 움직이지 않도록 해 주세요. <br>* 아이가 움직이면 측정 결과의 정확도가 떨어집니다.</li>
                </ol>
            </div>
            <div style="text-align: center; margin-bottom: 20px;">
                <button class="btn btn-lg btn-info" id="start-btn" style="width: 110px;">측정 시작</button>
            </div>
        </div>
    </div>
</div>

{% endblock %}
<!-- ------------------------------------------------------------- -->



<!-- ------------------------------------------------------------- -->
{% block script %}
<script src="/javascripts/config.js"></script>
<script src="/assets/node_modules/moment/moment.js"></script>
<script src="/assets/node_modules/Chart.js/Chart.min.js"></script>
<script src="/javascripts/commonUtil.js"></script>
<script>
    let p_userCode = '{{p_userCode}}';
</script>

<script>
    let reqUrl = baseUrl + '/a_health/';
    $('#start-btn').on('click', function() {
        reqUrl += 'predictResult';
        location.href = reqUrl;
    })
    //앱 페이지 이동 시 필수 작성(뒤로가기 버튼 구현시 필요)
    window.parent.postMessage({
        action: 'moveFrameN'
    }, '*'); // TO-DO: 임시로 모든 도메인 허용(*)하였음. 추후 수정할 것
    //앱 페이지 이동 시 필수 작성(뒤로가기 버튼 구현시 필요)

    //앱>> 페이지 이동 시 필수 작성(뒤로가기 버튼 구현시 필요)
    window.parent.postMessage({
            action: 'moveFrameY' //메인페이지에서 하위 메뉴로 들어갔을 때 페이지 이동 표시("Y": 하위 메뉴/"N": 메인메뉴)
        }, '*'); // TO-DO: 임시로 모든 도메인 허용(*)하였음. 추후 수정할 것

        //앱>> 페이지 이동 시 필수 작성(뒤로가기 버튼 구현시 필요)
</script>

{% endblock %}