{% extends "templates/webmainbase.html" %}

<!-- ------------------------------------------------------------- -->
{% block style%}
<!-- <link rel="stylesheet" href="/web/rtime_web/rtime_web.css" type="text/css" /> -->

<style>
    /*---------- 측정 시작 페이지 -----------*/

    a.nav-link {
        color: black;
        margin: 0;
    }

    a.nav-link.active {
        font-weight: 600;
    }

    .form-control-sm {
        font-size: 13px;
    }


    .deactive-notice {
        display: none;
    }

    .active-notice {
        display: inline-block;
    }

    .scroll {
        overflow: scroll;
    }

    /*input type number일 때 화살표 없애기*/

    input[type="number"]::-webkit-outer-spin-button,
    input[type="number"]::-webkit-inner-spin-button,
    #authnumber {
        -webkit-appearance: none;
        margin: 0;
    }

    .input-group {
        margin-bottom: 20px;
    }

    /*----------------- 병원 정보 탭 -----------------*/

    #editFrm {
        width: 100%;
        margin: 0 auto;
        border: 1px solid lightgray;
        border-radius: 20px;
        overflow: auto;
        padding: 2% 4%;
    }

    #hospital-div {
        width: 600px;
        margin: 0 auto;
        border: 1px solid lightgray;
        border-radius: 20px;
        padding: 2%;
        margin-bottom: 20px;
    }

    #user-div {
        width: 600px;
        margin: 0 auto;
        border: 1px solid lightgray;
        border-radius: 20px;
        padding: 2%;
        margin-bottom: 20px;
    }

    #sendnumber {
        width: 100%;
        font-size: 10pt;
        margin-top: 15px;
    }

    #searchHospital {
        width: 100%;
        font-size: 10pt;
        margin: 0;
        margin-bottom: 15px;
        margin-top: 5px;
    }

    #hospital-address1-input {
        width: 100%;
        font-size: 10pt;
    }

    #edit-emailBtn,
    #edit-emailBtn2 {
        width: 12%;
        margin-left: 10px;
    }

    /*--------------------이메일 인증 관련 CSS--------------------------*/
    /* 이메일 label */

    #label-email {
        float: left;
    }

    /* 인증번호 전송 버튼 */

    #sendnumber {
        width: 100%;
        font-size: 10pt;
        margin-top: 15px;
    }

    /* 인증번호 label */

    #label-authNumber {
        float: left;
    }

    /* 인증번호 input, button div */

    #inputDiv {
        width: 100%;
        float: left;
    }

    /* 인증번호 입력 input */

    #authnumber {
        width: 75%;
        display: inline;
        margin-top: 0px !important;
        margin-right: 10px;
    }

    /* 인증 버튼 */

    #checknumber {
        width: 20%;
        display: inline;
    }

    /* 인증번호 에러 메시지 */

    #e-auth-notice {
        float: center;
    }

    #editBtn,
    #withdrawalBtn {
        width: 35%;
        margin-top: 15px;
    }

    #withdrawalBtn {
        margin-left: 30px;
    }

    #withdrawalBtn-modal {
        margin-right: 10px;
    }

    /*------------ 사용자 목록 탭 -------------*/

    #admin-table {
        width: 100%;
        margin: 0 auto;
        text-align: center;
        font-size: 15px;
    }

    #admin-table th {
        font-weight: bold;
        height: 20px;
        line-height: 20px;
    }

    #admin-table td {
        height: 20px;
        line-height: 20px;
    }

    #createAdinBtn {
        float: right;
        margin-right: 20px;
        margin-bottom: 5px;
    }

    #admin-editBtn {
        margin-right: 5px;
    }

    /* 모달창 */
    /* 비밀번호 입력 모달창 */
    .custom-modal {
        max-width: 600px;
    }
</style>

{%endblock%}
<!-- ------------------------------------------------------------- -->

<!-- ------------------------------------------------------------- -->
{% block contents%}
<div class="row">
    <div class="col">
        <div class="card">
            <div class="card-body">
                <!-- 상단 탭 메뉴 -->
                <ul class="nav nav-tabs" id="postTab">
                    <li class="nav-item"><a data-toggle="tab" href="#hospital-tab" class="nav-link active"
                            onclick="hospitalInfoLoad()">병원 정보</a></li>
                    <li class="nav-item"><a data-toggle="tab" href="#admin-tab" class="nav-link">사용자 목록</a>
                    </li>
                </ul>

                <!-- 병원 정보 탭 매핑 div -->
                <div class="tab-content" id="postTabContent">
                    <div id="hospital-tab" class="tab-pane fade show active">
                        <div class="form-horizontal form-material" id="editFrm">
                            <!-------------- 병원 정보 html -------------->
                            <div id="hospital-div">
                                <hr />
                                <h4 style="text-align: center; font-weight: bold;">병원 정보</h4>
                                <hr />

                                <!-- 병원명 -->
                                <label for="hospital-name-input">병원명</label>
                                <span id="hospital-name-notice"
                                    class="deactive-notice form-control-feedback text-danger">&nbsp;병원명을 입력해 주세요.</span>
                                <div class="form-group mb-3">
                                    <div class="input-group">
                                        <input id="hospital-name-input" name="name" class="form-control form1"
                                            type="text" placeholder="병원명" aria-describedby="hospital-name-input"
                                            maxlength="100">
                                    </div>
                                </div>

                                <!-- 병원 주소 -->
                                <label for="hospital-address1-input">병원 주소</label>
                                <span id="hospital-address2-notice"
                                    class="deactive-notice form-control-feedback text-danger">&nbsp;상세 주소를 입력해
                                    주세요.</span>
                                <div class="form-group mb-3">
                                    <div class="input-group">
                                        <input id="hospital-address1-input" name="name" class="form-control form1"
                                            type="text" placeholder="도로명 주소" aria-describedby="hospital-address1-input"
                                            readonly>
                                        <input id="hospital-address2-input" name="name" class="form-control form1"
                                            type="text" placeholder="상세 주소" aria-describedby="hospital-address2-input"
                                            maxlength="100">
                                    </div>
                                </div>

                                <!-- 병원 연락처 -->
                                <div class="form-group mb-3">
                                    <label for="phone1">병원 연락처</label>
                                    <span id="hospital-phone-notice" class="deactive-notice form-control-feedback text-danger">&nbsp;연락처를 올바르게 입력해 주세요.</span>
                                    <div class="input-group">
                                        <select id="phone1" name="phone1" class="form-control" aria-label="phonenumber" aria-describedby="phone1">
                                            <option selected>선택</option>
                                            <option>02</option>
                                            <option>031</option>
                                            <option>032</option>
                                            <option>033</option>
                                            <option>041</option>
                                            <option>042</option>
                                            <option>043</option>
                                            <option>044</option>
                                            <option>051</option>
                                            <option>052</option>
                                            <option>053</option>
                                            <option>054</option>
                                            <option>055</option>
                                            <option>061</option>
                                            <option>062</option>
                                            <option>063</option>
                                            <option>064</option>
                                            <option>070</option>
                                        </select>
                                        <p class="ml-2 mr-2 mt-2"> - </p>
                                        <input type="number" id="phone2" name="phone2" class="form-control" placeholder="" aria-label="phonenumber" aria-describedby="phone2" oninput="javascript: if (this.value.length > this.maxLength) this.value = this.value.slice(0, this.maxLength);
                                        this.value = this.value.replace(/[^0-9]/g, '');" maxlength="4">
                                        <p class="ml-2 mr-2 mt-2"> - </p>
                                        <input type="number" id="phone3" name="phone3" class="form-control" placeholder="" aria-label="phonenumber" aria-describedby="phone3" oninput="javascript: if (this.value.length > this.maxLength) this.value = this.value.slice(0, this.maxLength);
                                        this.value = this.value.replace(/[^0-9]/g, '');" maxlength="4">
                                    </div>
                                </div>

                                <!-- 운영시간 -->
                                <label for="hospital-time-input">운영시간</label>
                                <span id="hospital-time-notice"
                                    class="deactive-notice form-control-feedback text-danger">&nbsp;운영시간을 입력해
                                    주세요.</span>
                                <div class="form-group mb-3">
                                    <div class="input-group">
                                        <input id="hospital-time-input" name="name" class="form-control form1"
                                            type="text" placeholder="ex) 월~금 09:00 ~ 18:30 / 토,일 휴무" maxlength="100">
                                    </div>
                                </div>

                                <!-- 문의 답변 가능 시간  -->
                                <label for="operating-start-time">문의 답변 가능 시간</label>
                                <span id="hospital-operating-notice"
                                    class="deactive-notice form-control-feedback text-danger">&nbsp;문의 답변 가능 시간을 선택해
                                    주세요.</span>
                                <div class="form-group mb-3">
                                    <div class="input-group">
                                        <input id="operating-start-time" name="hTime1" class="form-control form1"
                                            type="time">
                                        <p class="ml-2 mr-2 mt-2"> ~ </p>
                                        <input id="operating-end-time" name="hTime2" class="form-control form1"
                                            type="time">
                                    </div>
                                </div><br />

                                <!-------------- 회원 정보 html -------------->
                                <hr />
                                <h4 style="text-align: center; font-weight: bold;">회원 정보</h4>
                                <hr />

                                <label for="id-input">아이디</label>
                                <div class="form-group mb-3">
                                    <div class="input-group">
                                        <input id="id-input" name="id" class="form-control form1" type="text"
                                            placeholder="아이디" aria-describedby="id-notice" maxlength="12" readonly>
                                    </div>
                                    <div class="row notice-area pl-3">
                                        <p id="id-dupl-notice"
                                            class="deactive-notice form-control-feedback text-danger">중복된 아이디 입니다.</p>
                                        <p id="id-notice" class="deactive-notice form-control-feedback text-danger">
                                            영문(소문자), 숫자를 혼합하여 입력해 주세요. <br>(4~12자, 소문자로 시작)</p>
                                    </div>
                                </div>

                                <!-- 비밀번호 -->
                                <label for="hospital-time-input">비밀번호</label>
                                <div class="form-group mb-3">
                                    <div class="input-group">
                                        <input id="pwd-input" name="pwd" type="password" class="form-control form1"
                                            placeholder="비밀번호" maxlength="15">
                                    </div>
                                    <div class="row notice-area pl-3">
                                        <p id="pwd-notice" class="deactive-notice form-control-feedback text-danger">
                                            영문(대소문자), 숫자, 특수문자를 혼합하여 입력해 주세요.<br>(8~15자, 특수문자는!@#$%&*()_+ 만 사용)</p>
                                    </div>
                                </div>

                                <!-- 비밀번호 확인 -->
                                <label for="hospital-time-input">비밀번호 확인</label>
                                <div class="form-group mb-3">
                                    <div class="input-group">
                                        <input id="pwd-confirm-input" name="pwd-confirm" type="password"
                                            class="form-control form1" placeholder="비밀번호 확인" maxlength="15">
                                    </div>
                                    <div class="row notice-area pl-3">
                                        <p id="pwd-confirm-notice"
                                            class="deactive-notice form-control-feedback text-danger">비밀번호가 일치하지 않습니다.
                                        </p>
                                    </div>
                                </div>

                                <!-- 담당자 이름 -->
                                <label for="adminuser-name-input">담당자 이름</label>
                                <div class="form-group mb-3">
                                    <div class="input-group">
                                        <input id="adminuser-name-input" name="name" type="text"
                                            class="form-control form1" placeholder="담당자 이름 입력" maxlength="16">
                                    </div>
                                    <div class="row notice-area pl-3">
                                        <p id="user-name-notice"
                                            class="deactive-notice form-control-feedback text-danger">국문, 영문으로 입력해 주세요.
                                            (2~12자)</p>
                                    </div>
                                </div>

                                <!-- 담당자 연락처 -->
                                <div class="form-group mb-3">
                                    <label for="phonenumber">담당자 연락처</label>
                                    <div class="input-group">
                                        <select id="userPhone1" name="phone1" class="form-control form1"
                                            aria-label="phonenumber" aria-describedby="phone1">
                                            <option selected>선택</option>
                                            <option>010</option>
                                            <option>011</option>
                                            <option>016</option>
                                            <option>017</option>
                                            <option>018</option>
                                            <option>019</option>
                                        </select>
                                        <p class="ml-2 mr-2 mt-2"> - </p>
                                        <input type="number" id="userPhone2" name="phone2" class="form-control form1"
                                            placeholder="" aria-label="phonenumber" aria-describedby="phone2"
                                            oninput="javascript: if (this.value.length > this.maxLength) this.value = this.value.slice(0, this.maxLength);
                                            this.value = this.value.replace(/[^0-9]/g, '');" maxlength="4">
                                        <p class="ml-2 mr-2 mt-2"> - </p>
                                        <input type="number" id="userPhone3" name="phone3" class="form-control form1"
                                            placeholder="" aria-label="phonenumber" aria-describedby="phone3"
                                            oninput="javascript: if (this.value.length > this.maxLength) this.value = this.value.slice(0, this.maxLength);
                                            this.value = this.value.replace(/[^0-9]/g, '');" maxlength="4">
                                    </div>
                                    <div style="text-align: left;">
                                        <p id="phone-dupl-notice" class="deactive-notice text-danger"> 중복된 연락처입니다.</p>
                                        <p id="phone-notice" class="deactive-notice text-danger"> 연락처를 올바르게 입력해 주세요.</p>
                                    </div>
                                </div>

                                <!-- 담당자 이메일 -->
                                <div class="form-group mb-3">
                                    <label id="label-email" for="email-input">담당자 이메일</label>
                                    <div class="input-group">
                                        <input id="email-input" name="eId" type="text" class="form-control form1"
                                            placeholder="아이디" readonly /> &nbsp;
                                        <span class="ml-1 mr-1 mt-2">@</span>&nbsp;
                                        <input id="email-input2" name="eDomain" type="text" class="form-control form1"
                                            placeholder="직접입력" readonly />
                                        <select id="email-select-input2" class="form-control form1"
                                            style="display: none;" onChange="selectEmail(this)">
                                            <!-- 변경 버튼 클릭하면 나오도록!-->
                                            <option value="1" selected>직접입력</option>
                                            <option value="naver.com">naver.com</option>
                                            <option value="gmail.com">gmail.com</option>
                                            <option value="daum.net">daum.net</option>
                                            <option value="hanmail.net">hanmail.net</option>
                                            <option value="nate.com">nate.com</option>
                                        </select>
                                        <button id="edit-emailBtn" class="btn btn-secondary btn-sm">변경</button>
                                        <button id="edit-emailBtn2" class="btn btn-secondary btn-sm"
                                            style="display:none;">변경취소</button>

                                    </div>
                                    <div style="text-align: left;">
                                        <p id="email-dupl-notice" class="deactive-notice text-danger">중복된 이메일입니다.</p>
                                        <br>
                                        <p id="email-notice" class="deactive-notice text-danger">이메일을 올바르게 입력해 주세요.</p>
                                    </div>
                                    <!-- 이메일 인증 -->
                                    <div id="input-authnumber" style="display: none">
                                        <button id="sendnumber" class="btn btn-secondary">인증번호 전송</button>
                                        <hr />
                                        <label id="label-authNumber" for="authnumber">인증번호</label>
                                        <div id="inputDiv">
                                            <input id="authnumber" name="authnumber" type="text"
                                                class="form-control mt-3" placeholder="인증번호 입력" aria-describedby=""
                                                maxlength="6" />
                                            <button id="checknumber" class="btn btn-block btn-info"
                                                type="button">인증</button>
                                            <p id="e-auth-notice"
                                                class="form-notice deactive-notice form-control-feedback text-danger">
                                                고객님의 메일 주소로 보내드린 인증번호를 입력해 주세요.</p>
                                        </div>
                                    </div>
                                </div>
                                <div class="form-group text-center p-b-20">
                                    <div class="col-xs-12">
                                        <button class="btn btn-success" id="editBtn" type="button">수정</button>
                                        <button class="btn btn-danger" id="withdrawalBtn">서비스 종료</button>
                                    </div><br />
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- 사용자 목록 탭 매핑 div -->
                    <div id="admin-tab" class="tab-pane fade">
                        <button id="createAdinBtn" class="btn btn-secondary" onclick="insertOpen()">사용자 등록</button>
                        <table id="admin-table" class="table table-hover">
                            <thead>
                                <tr>
                                    <th>이름</th>
                                    <th>연락처</th>
                                    <th>이메일</th>
                                    <th>분류</th>
                                    <th>비고</th>
                                    <th>수정 / 삭제</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>홍길동</td>
                                    <td>010-1234-5678</td>
                                    <td>test1111@naver.com</td>
                                    <td>수의사</td>
                                    <td>-</td>
                                    <td>
                                        <button id="admin-editBtn" class="btn btn-secondary" data-toggle="modal"
                                            data-target="#editUser-modal">수정</button>
                                        <button id="admin-deleteBtn" class="btn btn-secondary">삭제</button>
                                    </td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>


<!-- 현재 비밀번호 입력 모달 -->
<div id="password-modal" class="modal fade" tabindex="-1" role="dialog" aria-hidden="true" data-backdrop="static"
    data-keyboard="false">
    <div class="custom-modal modal-dialog modal-dialog-centered">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title">비밀번호 확인</h5>
            </div>
            <div class="modal-body">
                현재 비밀번호를 입력해 주세요.<br>
                <input id="pw-check-input" name="pwCheck" type="password" class="form-control" placeholder="비밀번호 입력"
                    maxlength="15">
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-primary" id="pwCheckBtn" onclick="pwCheck()">확인</button>
                <button type="button" class="btn btn-secondary" data-dismiss="modal"
                    onclick="closePwModal()">취소</button>
            </div>
        </div>
    </div>
</div>

<!-- 서비스 종료 모달 -->
<div id="withdrawal-modal" class="modal fade" tabindex="-1" role="dialog" aria-hidden="true" data-backdrop="static"
    data-keyboard="false">
    <div class="modal-lg modal-dialog modal-dialog-centered">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title">서비스 종료(회원탈퇴) 안내</h5>
                <button type="button" class="close" data-dismiss="modal" aria-hidden="true" onclick="closeModal()">&times;</button>
            </div>
            <div class="modal-body">
                <br />
                <div style="padding-left: 20px;">
                    안녕하세요. 독닥독닥 운영팀입니다.<br /> 서비스 종료(회원탈퇴)를 원하시는 경우 아래의 안내사항을 필수로 확인해 주시기 바랍니다.<br /><br />
                    <strong>[서비스 종료 처리기간_휴면계정 처리]</strong><br /> 서비스 종료(회원탈퇴)를 원할 시 서비스 종료 처리기간(14일)동안 휴면계정으로
                    처리됩니다.<br /> 서비스 종료 처리기간 내에 계정 복구를 원하시는 경우 (회사 메일)로 문의 주시길 바랍니다.<br /><br />
                    <strong>[서비스 종료_계정 영구삭제]</strong><br /> 서비스 종료 처리기간(14일)이 지나면 계정이 영구적으로 삭제되며 복구가 불가능합니다.<br /> 계정 삭제
                    시 독닥독닥 서비스 이용에 필요한 모든 정보가 삭제되며,<br /> 해당 계정으로 독닥독닥 서비스를 이용하실 수 없음을 안내드립니다.<br /><br /> 위 사항들을 충분히
                    고려하신 후 서비스 종료 절차를 진행해 주시기 바랍니다.<br /> 이용해 주셔서 감사합니다.<br /><br /> 독닥독닥 드림<br />
                </div>
            </div>
            <div class="modal-footer">
                <div id="modalBtn-div">
                    <button id="withdrawalBtn-modal" type="button" class="modal-btn btn btn-danger"
                        onclick="withdrawService()">서비스 종료</button>
                    <button type="button" class="modal-btn btn btn-secondary" data-dismiss="modal"
                        aria-hidden="true" onclick="closeModal()">취소</button>
                </div>
            </div>
        </div>
    </div>
</div>

<!-- 사용자 등록 모달 -->
<div id="createUser-modal" class="modal fade" tabindex="-1" role="dialog" aria-hidden="true" data-backdrop="static"
    data-keyboard="false">
    <div class="modal-dialog modal-dialog-centered">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title">사용자 등록</h5>
                <button type="button" class="close" data-dismiss="modal" aria-hidden="true"
                    onclick="closeModal()">&times;</button>
            </div>

            <div class="modal-body">
                <!-- 사용자 이름 -->
                <label for="admin-name">사용자 이름</label>
                <div class="input-group">
                    <input id="user-name-input" name="name" type="text" class="form-control form2"
                        placeholder="사용자 이름 입력" maxlength="16">
                </div>
                <div class="row notice-area pl-3">
                    <p id="name-notice" class="deactive-notice form-control-feedback text-danger">국문, 영문으로 입력해 주세요.
                        (2~12자)</p>
                </div>
                <!-- 사용자 연락처 -->
                <label for="admin-phone">사용자 연락처</label>
                <div class="input-group">
                    <select id="user-phone1" name="phone1" class="form-control form2" aria-label="phonenumber"
                        aria-describedby="phone1">
                        <option selected>선택</option>
                        <option>010</option>
                        <option>011</option>
                        <option>016</option>
                        <option>017</option>
                        <option>018</option>
                        <option>019</option>
                    </select>
                    <p class="ml-2 mr-2 mt-2"> - </p>
                    <input type="number" id="user-phone2" name="phone2" class="form-control form2" placeholder=""
                        aria-label="phonenumber" aria-describedby="phone2" oninput="javascript: if (this.value.length > this.maxLength) this.value = this.value.slice(0, this.maxLength);
                        this.value = this.value.replace(/[^0-9]/g, '');" maxlength="4">
                    <p class="ml-2 mr-2 mt-2"> - </p>
                    <input type="number" id="user-phone3" name="phone3" class="form-control form2" placeholder=""
                        aria-label="phonenumber" aria-describedby="phone3" oninput="javascript: if (this.value.length > this.maxLength) this.value = this.value.slice(0, this.maxLength);
                        this.value = this.value.replace(/[^0-9]/g, '');" maxlength="4">
                </div>
                <div style="text-align: left; display:block">
                    <p id="user-phone-dupl-notice" class="deactive-notice text-danger"> 중복된 연락처입니다.</p>
                    <p id="user-phone-notice" class="deactive-notice text-danger"> 연락처를 올바르게 입력해 주세요.</p>
                </div>
                <!-- 사용자 이메일 -->
                <label for="admin-email">사용자 이메일</label>
                <div class="input-group">
                    <input id="admin-email" name="eId" type="text" class="form-control form2" placeholder="아이디" />
                    &nbsp;
                    <span class="ml-1 mr-1 mt-2">@</span>&nbsp;
                    <input id="admin-domain" name="eDomain" type="text" class="form-control form2" placeholder="도메인" />
                    <select id="select-domain" class="form-control form2" onChange="selectEmail3(this)">
                        <option value="1" selected>직접입력</option>
                        <option value="naver.com">naver.com</option>
                        <option value="gmail.com">gmail.com</option>
                        <option value="daum.net">daum.net</option>
                        <option value="hanmail.net">hanmail.net</option>
                        <option value="nate.com">nate.com</option>
                    </select>
                </div>
                <div style="text-align: left;">
                    <p id="admin-email-dupl-notice" class="deactive-notice text-danger">중복된 이메일입니다.</p><br>
                    <p id="admin-email-notice" class="deactive-notice text-danger">이메일을 올바르게 입력해 주세요.</p>
                </div>

                <!-- 사용자 분류 -->
                <label for="admin-type">사용자 분류</label>
                <span id="admin-type-notice" class="deactive-notice form-control-feedback text-danger">&nbsp;사용자 분류를 선택해
                    주세요.</span>
                <div class="input-group">
                    <select id="admin-type" class="form-control form2">
                        <option value="100" selected>선택 ▼</option>
                        <option value="0">수의사</option>
                        <option value="1">동물보호사</option>
                        <option value="2">기타</option>
                    </select>
                </div>

                <!-- 비고 -->
                <label for="admin-note">비고</label>
                <div class="input-group">
                    <input id="admin-note" type="text" class="form-control form2" placeholder="비고 입력(선택)" />
                </div>
            </div>

            <div class="modal-footer">
                <div id="modalBtn-div">
                    <button id="adminCreateBtn" type="button" class="btn btn-success">등록</button>
                </div>
            </div>
        </div>
    </div>
</div>

<!-- 사용자 수정 모달 -->
<div id="editUser-modal" class="modal fade" tabindex="-1" role="dialog" aria-hidden="true" data-backdrop="static"
    data-keyboard="false">
    <div class="modal-dialog modal-dialog-centered">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title">사용자 수정</h5>
                <button type="button" class="close" data-dismiss="modal" aria-hidden="true"
                    onclick="closeModal()">&times;</button>
            </div>

            <div class="modal-body">
                <!-- 사용자 이름 -->
                <label for="admin-edit-name">사용자 이름</label>
                <input type="hidden" id="h_staff_code">
                <div class="input-group">
                    <input id="admin-edit-name" name="name" type="text" class="form-control form3"
                        placeholder="사용자 이름 입력" maxlength="16">
                </div>
                <div class="row notice-area pl-3">
                    <p id="staff-name-notice" class="deactive-notice form-control-feedback text-danger">국문, 영문으로 입력해
                        주세요. (2~12자)</p>
                </div>
                <!-- 사용자 연락처 -->
                <label for="admin-edit-phone">사용자 연락처</label>
                <div class="input-group">
                    <select id="admin-edit-phone" name="phone1" class="form-control form3" aria-label="phonenumber"
                        aria-describedby="phone1">
                        <option selected>선택</option>
                        <option>010</option>
                        <option>011</option>
                        <option>016</option>
                        <option>017</option>
                        <option>018</option>
                        <option>019</option>
                    </select>
                    <p class="ml-2 mr-2 mt-2"> - </p>
                    <input type="number" id="edit-phone2" name="phone2" class="form-control form3" placeholder=""
                        aria-label="phonenumber" aria-describedby="phone2" oninput="javascript: if (this.value.length > this.maxLength) this.value = this.value.slice(0, this.maxLength);
                        this.value = this.value.replace(/[^0-9]/g, '');" maxlength="4">
                    <p class="ml-2 mr-2 mt-2"> - </p>
                    <input type="number" id="edit-phone3" name="phone3" class="form-control form3" placeholder=""
                        aria-label="phonenumber" aria-describedby="phone3" oninput="javascript: if (this.value.length > this.maxLength) this.value = this.value.slice(0, this.maxLength);
                        this.value = this.value.replace(/[^0-9]/g, '');" maxlength="4">
                </div>
                <div style="text-align: left; display:block">
                    <p id="staff-phone-dupl-notice" class="deactive-notice text-danger"> 중복된 연락처입니다.</p>
                    <p id="staff-phone-notice" class="deactive-notice text-danger"> 연락처를 올바르게 입력해 주세요.</p>
                </div>
                <!-- 사용자 이메일 -->
                <label for="admin-edit-email">담당자 이메일</label>
                <div class="input-group">
                    <input id="admin-edit-email" name="eId" type="text" class="form-control form3" placeholder="아이디" />
                    &nbsp;
                    <span class="ml-1 mr-1 mt-2">@</span>&nbsp;
                    <input id="admin-edit-domain" name="eDomain" type="text" class="form-control form3"
                        placeholder="도메인" />
                    <select id="edit-select-domain" class="form-control form3" onChange="selectEmail2(this)">
                        <option value="1" selected>직접입력</option>
                        <option value="naver.com">naver.com</option>
                        <option value="gmail.com">gmail.com</option>
                        <option value="daum.net">daum.net</option>
                        <option value="hanmail.net">hanmail.net</option>
                        <option value="nate.com">nate.com</option>
                    </select>
                </div>
                <div style="text-align: left;">
                    <p id="staff-email-dupl-notice" class="deactive-notice text-danger">중복된 이메일입니다.</p><br>
                    <p id="staff-email-notice" class="deactive-notice text-danger">이메일을 올바르게 입력해 주세요.</p>
                </div>
                <!-- 사용자 분류 -->
                <label for="admin-edit-type">사용자 분류</label>
                <span id="staff-type-notice" class="deactive-notice form-control-feedback text-danger">&nbsp;사용자 분류를 선택해
                    주세요.</span>
                <div class="input-group">
                    <select id="admin-edit-type" class="form-control form3">
                        <option value="100" selected>선택 ▼</option>
                        <option value="0">수의사</option>
                        <option value="1">동물보호사</option>
                        <option value="2">기타</option>
                    </select>
                </div>

                <!-- 비고 -->
                <label for="admin-edit-note">비고</label>
                <div class="input-group">
                    <input id="admin-edit-note" type="text" class="form-control form3" placeholder="비고 입력(선택)" />
                </div>
            </div>

            <div class="modal-footer">
                <div id="modalBtn-div">
                    <button id="adminEditBtn" type="button" class="btn btn-success">수정</button>
                    <button type="button" class="btn btn-secondary" data-dismiss="modal"
                        onclick="closeModal()">취소</button>
                </div>
            </div>
        </div>
    </div>
</div>

<!-- 사용자 삭제 모달 -->
<div id="delUser-modal" class="modal fade" id="exampleModal" tabindex="-1" role="dialog"
    aria-labelledby="exampleModalLabel" aria-hidden="true">
    <div class="modal-dialog modal-dialog-centered" role="document">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title" id="exampleModalLabel">사용자 삭제</h5>
                <input type="hidden" id="staff_code">
                <button type="button" class="close" data-dismiss="modal" aria-label="Close" onclick="closeModal()">
                    <span aria-hidden="true">&times;</span>
                </button>
            </div>
            <div class="modal-body">
                해당 사용자를 삭제하시겠습니까?
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-primary" onclick="deleteStaff()">삭제</button>
                <button type="button" class="btn btn-secondary" data-dismiss="modal" onclick="closeModal()">취소</button>
            </div>
        </div>
    </div>
</div>

{% endblock %}
<!-- ------------------------------------------------------------- -->

<!-- ------------------------------------------------------------- -->

{%block script%}
<script type="text/javascript" src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/bootstrap/5.3.0/js/bootstrap.bundle.min.js"></script>
<script type="text/javascript" src="/web/hospital/hospital.js"></script>
<!-- SweetAlert2 예쁜 알람창 -->
<script src="https://cdn.jsdelivr.net/npm/sweetalert2@11.1.2/dist/sweetalert2.all.min.js"></script>

<script>
    $(document).ready(function () {
        $('#password-modal').modal({
            backdrop: 'static',
            keyboard: false
        });
        init();
    });
</script>
{% endblock %}
<!-- ------------------------------------------------------------- -->